@page "/auth/login"

<PageTitle>Login</PageTitle>

<Div Flex="Flex.JustifyContent.Center" Margin="Margin.Is3.FromBottom" Padding="Padding.Is5.OnAll">
    <Form Model="Vm.Request" @onsubmit="HandleSubmit">
        <Validations @ref="_validations" Model="Vm.Request" Mode="ValidationMode.Auto">
            <Field>
                <FieldLabel>Email</FieldLabel>
                <FieldBody>
                    <TextEdit type="email" Placeholder="Enter email" @bind-Text="Vm.Request.Email">
                        <Feedback>
                            <ValidationError />
                        </Feedback>
                    </TextEdit>
                </FieldBody>
            </Field>

            <Field>
                <FieldLabel>Password</FieldLabel>
                <FieldBody>
                    <TextEdit type="password" Placeholder="Enter password" @bind-Text="Vm.Request.Password">
                        <Feedback>
                            <ValidationError />
                        </Feedback>
                    </TextEdit>
                </FieldBody>
            </Field>

            <Blazorise.ValidationSummary/>

            @if (!string.IsNullOrWhiteSpace(Vm.Error))
            {
                <Alert Color="Color.Danger">@Vm.Error</Alert>
            }

            <Button Color="Color.Primary" Type="@ButtonType.Submit" Disabled="@Vm.IsBusy" Loading="@Vm.IsBusy">
                @(Vm.IsBusy ? "Logging in..." : "Login")
            </Button>

            <Paragraph Class="mt-3">
                Don't have an account? <Link To="/auth/register">Register here</Link>
            </Paragraph>
        </Validations>
    </Form>
</Div>